---
layout: default
title: Using Meshplay CLI
abstract: How to use meshplayctl
permalink: guides/meshplayctl/working-with-meshplayctl
language: en
type: guides
category: meshplayctl
abstract: Guides for common tasks while using Meshplay's CLI, meshplayctl.
---

Meshplay's command line interface is `meshplayctl`. Use `meshplayctl` to both manage the lifecyle of Meshplay itself and to access and invoke any of Meshplay's application and cloud native management functions. `meshplayctl` commands can be categorized as follows:

- `meshplayctl` - Global overrides and flags
- `meshplayctl app` - Cloud Native Application Management
- `meshplayctl filter` - Cloud Native Filter Management
- `meshplayctl mesh` - Cloud Native Lifecycle & Configuration Management
- `meshplayctl perf` - Cloud Native Performance Management
- `meshplayctl pattern` - Cloud Native Pattern Configuration & Management
- `meshplayctl system` - Meshplay Lifecycle and Troubleshooting

## Configuring Meshplay Deployments with meshconfig

_Meshconfig_ refers to a configuration file found at `~/.meshplay/config.yaml`. Your meshconfig file must contain one or more `contexts` in order for any `meshplayctl system` command to work. Each context represents a Meshplay deployment.

Each of the `system` commands are used to control Meshplay's lifecycle like `system start`, `stop`, `status`, `reset` and so on.

## Meshplay CLI FAQ

#### Question: What is the meshconfig?

Like kubeconfig for `kubectl`, meshconfig is the name of your `meshplayctl` config file. You can find your meshconfig file in its default location of `~/.meshplay/config.yaml`. By default, `meshplayctl` will look to this location for your meshconfig. You can override the default location at anytime with the use of the global parameter, `--config <my-other-meshconfig>`.

#### Question: What is a context?

A meshconfig `context` represents a single Meshplay deployment. Using `context`s, you can configure different Meshplay deployments with environment-specific settings and you can easily switching between your individual Meshplay deployments by updating your current-context.

#### Question: Why are contexts necessary?

Many Meshplay users have more than one Meshplay deployment. Contexts allow you to deploy different versions of Meshplay, update your release channel subscription settings, selectively install one or more Meshplay Adapters, and so on. Contexts allow you to configure your invididual Meshplay deployments.

#### Question: What is `current-context`?

`current-context` identifies the Meshplay deployment that when any `meshplayctl` command is invoked will use the environment described in the `current-context`. You can switch between contexts. Only one context can be the `current-context`.

#### Question: What's the difference between contexts and environments?

Contexts configure Meshplay deployments (server, adapters, operator and so on), while environments define a collection of Kubernetes clusters and cloud native infrastructure under management in Meshplay.

#### Question: What does the default meshconfig look like?

The following template is used to create a config file from scratch. Not all of the following variables are required to be included. Some of the variables may have a null value or may be excluded (e.g. “adapters”).

```
contexts:
    <context1-name>:
      endpoint: <url to meshplay server rest api>
      token: <name of token variable in this config file>
      platform: <type of platform: ”docker” or “kubernetes”>
      # Future: specify type of kubernetes (e.g. eks)
      adapters: <collection of names of Meshplay adapters:
          “istio”,“linkerd”,”consul”,”nginx-sm”,”octarine”,”tanzu-sm”,”citrix-sm”,”kuma”,”osm”,”nsm”>

   <context2-name>:
    endpoint: <url to meshplay server rest api>
    token: <name of token variable in this config file>
    platform: <type of platform: ”docker” or “kubernetes”>
    current-context: <context name>

tokens:
- name: <token1-name>
  location: <token-location>
- name: <token2-name>
  value: <token-value>
  # Future: allow embedding of token certificate
```

Try it out and see for yourself. Run `meshplayctl system context create test` and `meshplayctl system context view test`.

#### Question: How do endpoints work in meshconfig?

Endpoints specify the access URL for the Meshplay UI, for a deployment. Endpoints are developed based on platform:

- Docker: Docker users can specify the endpoint in the meshconfig. The port specified in this will be used to generate the endpoint. The endpoint is of the form `http://localhost:port`, where `port` is taken from the meshconfig.
- Kubernetes: Deployments with kubernetes as the platform have an endpoint generated by service discovery using the Kubernetes API. This endpoint overwrites the endpoint specified in the meshconfig.

#### Question: Can I get an API token using meshplayctl?

Yes, if you need to establish a session with your Meshplay Server, you can [authenticate using meshplayctl](/guides/meshplayctl/authenticate-with-meshplay-via-cli), using `meshplayctl system login`.

## Advanced Installation

Users can control the specific container image and tag (version) of Meshplay that they would like to run by editing their local _~/.meshplay/meshplay.yaml_ (a docker compose file).
Aligned with the Meshplay container image, instead of leaving the implicit :stable-latest tag behind image: layer5/meshplay, users will instead identify a specific image tag like so:

{% capture code_content %}bash
version: '3'
services:
  meshplay:
    image: layer5/meshplay:v0.5.0
    labels:
      - "com.centurylinklabs.watchtower.enable=true"{% endcapture %}
{% include code.html code=code_content %}

### Suggested Reading

For an exhaustive list of `meshplayctl` commands and syntax:

- See [`meshplayctl` Command Reference]({{ site.baseurl }}/reference/meshplayctl).

Guides to using Meshplay's various features and components.

{% capture tag %}

<li><a href="{{ site.baseurl }}/installation/upgrades#upgrading-meshplay-cli">Upgrading meshplayctl</a></li>

{% endcapture %}

{% include related-discussions.html tag="meshplayctl" %}

<!-- ## Related Guides

<div>
  <a href="{{ site.baseurl }}/guides/meshplayctl/configuring-autocompletion-for-meshplayctl">
    <div class="overview">Configuring Autocompletion for `meshplayctl`</div>
  </a>
  <p>Configure automatic completion of `meshplayctl` commands in your environment.</p>
</div>

<div class="wrapper" style="text-align: left;">
  <div>
  <a href="{{ site.baseurl }}/reference/meshplayctl">
    <div class="overview">Command Reference</div>
  </a>
  <p>Find an exhaustive list of commands and their syntax.</p>
</div>

<div>
  <a href="{{ site.baseurl }}/installation/upgrades">
    <div class="overview">Upgrade Guide</div>
  </a>
  <p>To upgrade <code>meshplayctl</code>, refer to the Upgrade Guide.</p>
</div>


</div> -->

<!--
## Installing `meshplayctl`

### Mac or Linux

Use your choice of homebrew or bash to install `meshplayctl`. You only need to use one.
### Homebrew

Install `meshplayctl` and run Meshplay on Mac with Homebrew.

#### Installing with Homebrew

To install `meshplayctl`, execute the following commands:

 <pre class="codeblock-pre"><div class="codeblock">
 <div class="clipboardjs">
 brew install meshplayctl
 meshplayctl system start
 </div></div>
 </pre>

**Upgrading with Homebrew**

To upgrade `meshplayctl`, execute the following command:

 <pre class="codeblock-pre"><div class="codeblock">
 <div class="clipboardjs">
 brew upgrade meshplayctl
 </div></div>
 </pre>

#### Bash

**Installing with Bash**

Install `meshplayctl` and run Meshplay on Mac or Linux with this script:

 <pre class="codeblock-pre"><div class="codeblock">
 <div class="clipboardjs">
 curl -L https://meshplay.khulnasofy.com/install | bash -
 </div></div>
 </pre>

**Upgrading with Bash**

Upgrade `meshplayctl` and run Meshplay on Mac or Linux with this script:

 <pre class="codeblock-pre"><div class="codeblock">
 <div class="clipboardjs">
 curl -L https://meshplay.khulnasofy.com/install | bash -
 </div></div>
 </pre>

## Windows

### Installing the `meshplayctl` binary

Download and unzip `meshplayctl` from the [Meshplay releases](https://github.com/meshplay/meshplay/releases/) page. Add `meshplayctl` to your PATH for ease of use. Then, execute:

 <pre class="codeblock-pre"><div class="codeblock">
 <div class="clipboardjs">
 ./meshplayctl system start
 </div></div>
 </pre>

### Scoop

Use [Scoop](https://scoop.sh) to install Meshplay on your Windows machine.

**Installing with Scoop**

Add the Meshplay Scoop Bucket and install:

 <pre class="codeblock-pre"><div class="codeblock">
 <div class="clipboardjs">
 scoop bucket add meshplayctl https://github.com/layer5io/scoop-bucket.git
 scoop install meshplayctl
 </div></div>
 </pre>

**Upgrading with Scoop**

To upgrade `meshplayctl`, execute the following command:

 <pre class="codeblock-pre"><div class="codeblock">
 <div class="clipboardjs">
 scoop update meshplayctl
 </div></div>
 </pre>

-->

{% include discuss.html %}

